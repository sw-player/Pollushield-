<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>PolluShield™</title>
  <!-- (선택) 스타일 추가하기 -->
  <style>
    body { 
      font-family: system-ui, sans-serif; 
      padding: 2rem; 
      background: #1a1a1a; 
      color: #eee;
    }
    pre {
      background: #222; 
      padding: 1rem; 
      border-radius: 4px; 
      overflow-x: auto;
    }
  </style>
</head>
<body>
  <h1>PolluShield™</h1>
  <pre id="output"></pre>

  <!-- ① UMD 번들 로드 -->
  <script src="pollushield.umd.js"></script>
  <!-- ② 테스트 스크립트 -->
  <script>
    // 1) 검증 함수 로드
    const sanitize = PolluShield.sanitize;

    // 2) 원본 오브젝트 생성 & 오염 시도
    const obj = {};
    Object.assign(obj, { foo: "bar", __proto__: { isAdmin: true } });

    // 3) 스키마 없이 바로 sanitize 호출 (기본 옵션: removeAdditional)
    try {
      sanitize(obj);
    } catch (err) {
      // 에러가 나는 경우
      document.getElementById("output").textContent = err.message;
      throw err;
    }

    // 4) 결과 출력
    document.getElementById("output").textContent =
      JSON.stringify(obj, null, 2) + "\n\n" +
      "obj.isAdmin: " + obj.isAdmin;
  </script>
</body>
</html>
